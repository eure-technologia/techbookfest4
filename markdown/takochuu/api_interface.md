#8章 GraphQLあるいはWeb API インターフェースについて

#自己紹介
こんにちは！はじめまして。
株式会社エウレカでPairsのサーバーサイドを書いています。@takochuuです。
主にSPA / ネイティブアプリ向けのAPIを書く事が多いので、GraphQLをはじめとした
APIに用いられる技術と最近着目されているAPI向けの技術に関してこの章を書きたいと思います。

#はじめに
本章ではWeb APIに用いられる技術について解説します。
RESTの流行と共に、json形式でのRequest / Responseが主流となっていますが
GraphQL / Protocol Bufferのような新たな潮流が生まれています。
本章はこの2つの技術について焦点を当て、どのような箇所で活用が可能かについて示したいと思います。

# 8-1.Web API インターフェースの歴史
APIとは言わずもがな、Application Programming Interface（アプリケーション・プログラミング・インタフェース）の略です。
Web界隈ではサービスの外部からCRUD操作を可能にする役割として浸透していますが、(TODO)元々はOSレベルの用語です。

Webの世界にAPIの概念が持ち込まれたのは、Ajaxの発見によるものが大きいと筆者は考えています。
Ajaxの発見により、WebServerがレンダリングされたHTMLを返すだけのものから、jsonを用いてデータを返却するものへと変化を遂げます。
上記の発見によりデータと表現としてのコードが分割されることになり、今日のSPAやネイティブアプリの発展につながっています。

(なんか図を入れる)

今でこそ使用されるプロトコル/データ形式はhttp/jsonが一般的になっていますが、それまではSOAP/XMLを利用していました。
SOAPでは、プラットフォームに依存しないプロトコルが採用されています。
SOAPで採用されているXMLには冗長性があり、Javascriptや動的型付け言語で扱うには面倒だという側面があります。
それに対してRESTで採用されることが多いjsonは、定義の完結さやJavascriptでそのまま扱えるということもあり、急速に普及することになりました。

# 8-2.課題
RESTはRoy Fielding氏が2000年に発表した論文(https://en.wikipedia.org/wiki/Representational_state_transfer)に基づいていますが
HTTP上の対話モデルをアーキテクチャとして定義しているに過ぎず、endpointのpathの定義の方法やバージョニング、エラー処理等については何の言及もありません。

実際のプロダクト開発として考えると、以下のような問題に直面したみなさんも多いのではないでしょうか。
1.書く人によってendpointの命名方法が異なる
2.Request/Responseに一貫したSchema定義がないことにより、大規模開発時に一貫性が失われる
(ところによりSchema定義を別途書くなどの面倒さを抱えることになる)
3.httpリクエストで対応仕切れない部分が出て来る
(GETでの更新処理など)

(なんか図を入れる)

上記のような状態に悩まされている読者の方もいらっしゃるのではないでしょうか。
実際、筆者が今まで開発してきたプロダクトもこのような状態で悩まされていました。
本章では、上記のような状態に悩まされている読者の皆様へ向けて技術を用いた解決方法を提示していきます。

# 8-3.GraphQLとは何か
上記のような状態を解決するために筆者が注目している

# 8-4.GraphQLを活用することの利点

# 8-5.GraphQLの実装方法(サーバーサイド)

# 8-6.Protocol Bufferとは何か

# 8-7.Protocol Bufferを活用することの利点

# 8-7.Protocol Buffer実装方法

# 8-8.おわりに
